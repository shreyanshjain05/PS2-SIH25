generator client {
    provider = "prisma-client-js"
    output   = "../../../../node_modules/@prisma/client-gov"
}

datasource db {
    provider = "postgresql"
}

model AuditLog {
    id        String   @id @default(cuid())
    userId    String
    action    String
    resource  String
    ipAddress String?
    details   String? // JSON string
    createdAt DateTime @default(now())

    @@map("audit_log")
}

model Alert {
    id        String   @id @default(cuid())
    title     String
    message   String
    severity  String // LOW, MEDIUM, HIGH, CRITICAL
    region    String? // The region this alert is about
    recipient String // e.g., "NIC", "CPCB"
    status    String   @default("PENDING") // PENDING, SENT, FAILED
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    @@map("alerts")
}

model PollutionReport {
    id         String   @id @default(cuid())
    region     String
    aqi        Int
    pollutant  String // PM2.5, PM10, NO2, etc.
    recordedAt DateTime @default(now())

    @@map("pollution_reports")
}
